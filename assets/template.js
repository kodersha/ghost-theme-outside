function addClickHandlers(){document.querySelectorAll(".clickable:not(.initialized)").forEach(function(e){e.classList.add("initialized"),e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),window.location.href=this.getAttribute("data-url")})})}!function(){let e="emerge",p="emerge-spin-element",y=new WeakMap,v=new WeakMap,w=500,h=Object.freeze({spinSize:24,spinColor:"#404040",spinDirection:"clockwise",spinPeriod:1333,duration:w}),b=["backgroundImage","borderImage","borderCornerImage","listStyleImage","cursor"],E=/url\(\s*(['"]?)(.*?)\1\s*\)/g;function k(e){var t=Math.min(document.body.clientHeight,document.documentElement.clientHeight);return e.getBoundingClientRect().top-(window.pageYOffset||document.documentElement.scrollTop)<t}function t(){return Array.from(document.querySelectorAll("."+e))}let A=function(){let e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=new Promise(function(e){var t=document.createElement("img");t.src=n,t.complete?e():(t.addEventListener("load",()=>e()),t.addEventListener("error",()=>e()))})),e[n]}}();function C(e){let t=v.get(e);t&&(t.style.opacity=0,setTimeout(function(){"relative"===e.parentNode.style.position&&(e.parentNode.style.position=null),t.remove()},w)),e.style.transition="opacity 500ms ease-out",e.style.opacity=1;var n=e.dataset["style-2"];n&&e.setAttribute("style",e.getAttribute("style")+"; "+n),console.log("  FIRED!",e.id)}let I=new IntersectionObserver(function(e,t){e.forEach(function(e){(e.isIntersecting||k(e.target))&&(y.has(e.target)&&y.get(e.target)(),y.delete(e.target),t.unobserve(e.target),C(e.target))})});function n(){let g=new WeakMap;t().forEach(function(r,t,n){if(r.dataset.await&&null===document.getElementById(r.dataset.await))throw`Emerge: Element with ID “${r.dataset.await}” not found.`;var n=n[t-1],t=r.getBoundingClientRect(),s=r.dataset.duration||w;let l="",c="";var d=r.dataset.effect||!1;if(r.dataset.opaque&&(r.style.opacity=1),d){let e={};var u="transform";let t=r.dataset.up||0;var m=r.dataset.down||0;let n=r.dataset.left||0;var f=r.dataset.right||0;let o=r.dataset.angle||"90",i=r.dataset.scale||-1,a=r.dataset.origin||"50% 50%";m&&"--"===(t="-"+m).substr(0,2)&&(t=t.substr(2)),f&&"--"===(n="-"+f).substr(0,2)&&(n=n.substr(2)),"relax"===d&&(-1===i&&(i=.92),"50% 50%"===a&&(a="top"),e={one:"scaleY("+i+")",two:"scaleY(1)",orn:a,crv:"cubic-bezier(0, 0, 0.001, 1)"}),"slide"===d&&(t=t||"20px",e={one:"translate("+n+","+t+")",two:"translate(0,0)",crv:"cubic-bezier(0, 0.9, 0.1, 1)"}),"zoom"===d&&(-1===i&&(i=.5),e={one:"scale("+i+")",two:"scale(1)",orn:a,crv:"cubic-bezier(0, 0.75, 0.25, 1)"}),"screw"===d&&(-1===i&&(i=.5),o=o||90,e={one:"scale("+i+") rotate("+o+"deg)",two:"scale(1) rotate(0)",orn:a,crv:"cubic-bezier(0, 0.75, 0.25, 1)"}),e&&(l+=u+`: ${e.one};`+`transform-origin: ${e.orn};`,c+=u+": "+e.two+"; transition: opacity "+s+"ms ease-out, "+u+` ${s}ms ${e.crv};`),r.dataset["style-1"]=l,r.dataset["style-2"]=c}(l=l||r.dataset["style-1"])&&r.setAttribute("style",r.getAttribute("style")+"; "+l);var o,m=[];m.push(Promise.all([r].concat(Array.from(r.querySelectorAll("*"))).reduce(function(o,e){var t,n;"img"===e.nodeName.toLowerCase()?o.push(A(e.src)):"video"===e.nodeName.toLowerCase()&&o.push((n=(t=e).dataset["emerge-event"]||"canplaythrough",new Promise(function(e){4<=t.readyState?e():t.addEventListener(n,()=>e())})));let i=getComputedStyle(e);return b.forEach(function(e){var t,n=i[e];if(n&&-1!==n.indexOf("url("))for(;;){if(null===(t=E.exec(n)))break;o.push(A(t[2]))}}),o},[])));f=n;let i=void 0!==(d=r).dataset.await?document.getElementById(d.dataset.await):void 0!==d.dataset.continue?f:void 0;void 0===i||function(e){let t=e;for(;void 0!==t.dataset.await;){if(null===(t=document.getElementById(t.dataset.await)))return;if(t===e)return 1}}(r)||m.push(new Promise(function(e){queueMicrotask(function(){g.get(i).then(e)})}));let e,a=Number(r.dataset.hold);if(e=void 0===r.dataset.expose||k(r)?Number.isNaN(a)?Promise.resolve():function(){let t,e=new Promise(function(e){t=e});return function(){return setTimeout(t,a),e}}():new Promise(function(e){I.observe(r),y.set(r,e)}),g.set(r,Promise.all(m).then(function(){return"function"==typeof e?e():e})),g.get(r).then(function(){C(r)}),r.dataset.spin){let e;var u=document.getElementById(r.dataset.spinElement);null!==u?((e=u.cloneNode(!0)).style.position="absolute",e.style.display="block"):(s=Object.keys(h).reduce(function(e,t){return e[t]=(void 0===r.dataset[t]?h:r.dataset)[t],e},{}),e=([n,d,m,u,s]=[...Object.values(s)],o=document.createElement("div"),Object.assign(o.style,{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",transition:`opacity ${s}ms ease-out`}),o.innerHTML="<svg viewBox='0 0 100 100' display='block'><defs><mask id='cut'><rect width='100' height='100' fill='white' stroke='none' /><circle r='40' cx='50' cy='50' fill='black' stroke='none' /><polygon points='50,50 100,25 150,50 100,75' fill='black'stroke='none' transform-origin='center center' /></mask></defs><circle r='50' cx='50' cy='50' mask='url(#cut)' stroke='none' /></svg>",(s=o.firstElementChild).setAttribute("width",n),s.setAttribute("hight",n),s.lastElementChild.setAttribute("fill",d),o.firstElementChild.animate([{transform:"rotate(0turn)"},{transform:"rotate(1turn)"}],{duration:Number(u),iterations:1/0,direction:"counter-clockwise"===m?"reverse":"normal"}),o)),e.style.width="100%",e.style.height=Math.min(t.height,document.body.clientHeight-(r.getBoundingClientRect().top+window.pageYOffset))+"px",e.classList.add(p),"static"===getComputedStyle(r.parentNode).position&&(r.parentNode.style.position="relative"),r.parentNode.insertBefore(e,r),v.set(r,e)}})}function o(e){e.preventDefault(),console.log("REPLAY"),t().forEach(function(e){e.style.transition=null,e.style.opacity=null}),document.querySelectorAll("."+p).forEach(function(e){e.remove()}),n()}var i,a;void 0!==window.IntersectionObserver&&void 0!==document.documentElement.animate&&(window.navigator&&"preview"===window.navigator.loadPurpose?t().forEach(function(e){e.style.transition="none",e.style.opacity=1}):((i=document.createElement("style")).innerHTML=`.${e} { opacity: 0; }`,document.head.append(i),a=function(){n(),document.querySelectorAll(".emerge-replay").forEach(function(e){e.addEventListener("click",o)})},"loading"!==document.readyState?a():document.addEventListener("readystatechange",function(){"interactive"===document.readyState&&a()},{passive:!0}),window.reinitEmerge=function(){n()}))}();